<div class="p-5 vh-100 hero-main">

  <div class="row">
    <div class="container shadow-lg px-4 py-3 col-10 rounded-4 bg-light">
      <div class="row">
        <h1 class="pb-3 col-10" style="font-size: 35px" >Create stay<i class="fa-solid fa-house px-1 "></i></h1>
      </div>

      <div>
        <div class="row pt-3 px-2">

          <div class="col-6 pb-3">
            <input type="text" class="form-control" placeholder="Name" [(ngModel)]="stay.name">
          </div>
          <div class="col-6 pb-3">
            <input type="text" class="form-control" placeholder="Location" [(ngModel)]="stay.location">
          </div>
          <div class="col-2 pb-3">
            <label>Minimum guests</label>
            <input type="number" class="form-control" placeholder="Min guests" [(ngModel)]="stay.minGuests">
          </div>
          <div class="col-2 pb-3">
            <label>Maximum guests</label>
            <input type="number" class="form-control" placeholder="Max guests" [(ngModel)]="stay.maxGuests">
          </div>
          <div class="mb-3 col-8">
            <label>Photo</label>
            <input class="form-control" type="file" accept="image/*" id="formFileMultiple" (change)="onFileSelected($event)" multiple>
          </div>
          <div class="col-4 pt-2">
            <ng-multiselect-dropdown
              [placeholder]="'Choose benefits'"
              [settings]="dropdownSettings"
              [data]="dropdownList"
              [(ngModel)]="selectedItems"
              (onSelect)="onItemSelect($event)"
              (onSelectAll)="onSelectAll($event)"
            >
            </ng-multiselect-dropdown>
          </div>
          <div class="col-4 pt-3">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" value="" [(ngModel)]="stay.automaticReservation" id="flexCheckDefault">
              <label class="form-check-label" for="flexCheckDefault">
                Automatic reservation
              </label>
            </div>
          </div>
          <div class="col-4 row pt-2">
            <p class="col-6 pt-2">Price per day:</p>
            <div class="col-6" style="margin-left: -25px">
              <input type="number" class="form-control" placeholder="Price" [(ngModel)]="stay.pricePerDay">
            </div>
          </div>
          <div class="row">
            <div class="col-5">
              <h4 class="pt-3">Reservation period</h4>
              <div>
                <div class="row" *ngFor="let r of stay.availabilityPeriods;let  i = index">
                  <div class="col-10">
                    <div class="row">
                      <mat-form-field>
                        <mat-label>Enter a date range</mat-label>
                        <mat-date-range-input [rangePicker]="picker" [min]="today" >
                          <input matStartDate placeholder="Start date" [(ngModel)]="r.startDate">
                          <input matEndDate placeholder="End date" [(ngModel)]="r.endDate">
                        </mat-date-range-input>
                        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-date-range-picker #picker ></mat-date-range-picker>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="example-button-container pt-2 col-2" *ngIf="i == 0">
                    <button mat-mini-fab color="primary" style="background-color: green" (click)="addRange()" >
                      <mat-icon>add</mat-icon>
                    </button>
                  </div>
                  <div class="example-button-container pt-2 col-2" *ngIf="i != 0">
                    <button mat-mini-fab color="primary" style="background-color: red" (click)="removeRange(i)" >
                      <mat-icon>remove</mat-icon>
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-6">
              <h4 class="pt-3">Special prices</h4>
              <div class="">
                <div class="row" *ngFor="let r of stay.specialPrices;let  i = index">
                  <div class="col-8">
                    <div class="row">
                      <mat-form-field>
                        <mat-label>Enter a date range</mat-label>
                        <mat-date-range-input [rangePicker]="picker" [min]="today" >
                          <input matStartDate placeholder="Start date" [(ngModel)]="r.startDate">
                          <input matEndDate placeholder="End date" [(ngModel)]="r.endDate">
                        </mat-date-range-input>
                        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-date-range-picker #picker ></mat-date-range-picker>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-3" style="margin-top: -8px" >
                    <label>Price</label>
                    <input type="number" class="form-control" placeholder="Price" [(ngModel)]="r.price">
                  </div>
                  <div class="example-button-container pt-2 col-2" *ngIf="i == 0" style="margin-right: -50px">
                    <button mat-mini-fab color="primary" style="background-color: green" (click)="addSpecialPrice()" >
                      <mat-icon>add</mat-icon>
                    </button>
                  </div>
                  <div class="example-button-container pt-2 col-2" *ngIf="i != 0" style="margin-right: -50px">
                    <button mat-mini-fab color="primary" style="background-color: red" (click)="removeSpecialPrices(i)" >
                      <mat-icon>remove</mat-icon>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>



          <div class="pt-3 pb-2"></div>
          <div class="col-5">
            <button class="btn btn-dark" type="submit" (click)="save()">Save</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

